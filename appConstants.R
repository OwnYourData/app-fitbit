# global constants available to the app
# last update:2016-01-17

# constants required for every app
appName <- 'fitbit'
appTitle <- 'Fitbit'
app_id <- 'eu.ownyourdata.fitbit'

# definition of data structure
currRepoSelect <- ''
appRepos <- list(Schritte = 'eu.ownyourdata.fitbit.steps',
                 Verlauf = 'eu.ownyourdata.fitbit.log')
appStruct <- list(
        Schritte = list(
                fields      = c('date', 'value'),
                fieldKey    = 'date',
                fieldTypes  = c('date', 'integer'),
                fieldInits  = c('empty', 'empty'),
                fieldTitles = c('Datum', 'Schritte'),
                fieldWidths = c(100, 100)),
        Verlauf = list(
                fields      = c('date', 'description'),
                fieldKey    = 'date',
                fieldTypes  = c('date', 'string'),
                fieldInits  = c('empty', 'empty'),
                fieldTitles = c('Datum', 'Text'),
                fieldWidths = c(150, 450)))

# Version information
currVersion <- "0.3.0"
verHistory <- data.frame(rbind(
        c(version = "0.3.0",
          text    = "erstes Release")
))

# app specific constants
scriptRepo <- 'eu.ownyourdata.fitbit.script'
# base64 encoded import_script.R
fitbitStepScript <- 'ZGVmYXVsdEhlYWRlcnM8LWZ1bmN0aW9uKHRva2VuKXsNCmMoJ0FjY2VwdCc9JyovKicsJ0NvbnRlbnQtVHlwZSc9J2FwcGxpY2F0aW9uL2pzb24nLCdBdXRob3JpemF0aW9uJz1wYXN0ZSgnQmVhcmVyJyx0b2tlbikpfQ0KaXRlbXNVcmw8LWZ1bmN0aW9uKHVybCxyZXBvX25hbWUpew0KcGFzdGUwKHVybCwnL2FwaS9yZXBvcy8nLHJlcG9fbmFtZSwnL2l0ZW1zJyl9DQpnZXRUb2tlbjwtZnVuY3Rpb24ocGlhX3VybCxhcHBfa2V5LGFwcF9zZWNyZXQpew0KYXV0aF91cmw8LXBhc3RlMChwaWFfdXJsLCcvb2F1dGgvdG9rZW4nKQ0Kb3B0VGltZW91dDwtUkN1cmw6OmN1cmxPcHRpb25zKGNvbm5lY3R0aW1lb3V0PTEwKQ0KcmVzcG9uc2U8LXRyeUNhdGNoKA0KUkN1cmw6OnBvc3RGb3JtKGF1dGhfdXJsLGNsaWVudF9pZD1hcHBfa2V5LGNsaWVudF9zZWNyZXQ9YXBwX3NlY3JldCxncmFudF90eXBlPSdjbGllbnRfY3JlZGVudGlhbHMnLC5vcHRzPW9wdFRpbWVvdXQpLA0KZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuKE5BKX0pDQppZihpcy5uYShyZXNwb25zZSkpew0KcmV0dXJuKE5BKQ0KfWVsc2V7DQppZihqc29ubGl0ZTo6dmFsaWRhdGUocmVzcG9uc2VbMV0pKXsNCnJldHVybihyanNvbjo6ZnJvbUpTT04ocmVzcG9uc2VbMV0pJGFjY2Vzc190b2tlbikNCn1lbHNlew0KcmV0dXJuKE5BKX19fQ0Kc2V0dXBBcHA8LWZ1bmN0aW9uKHBpYV91cmwsYXBwX2tleSxhcHBfc2VjcmV0KXsNCmFwcF90b2tlbjwtZ2V0VG9rZW4ocGlhX3VybCxhcHBfa2V5LGFwcF9zZWNyZXQpDQppZihpcy5uYShhcHBfdG9rZW4pKXsNCnZlY3RvcigpDQp9ZWxzZXsNCmMoJ3VybCc9cGlhX3VybCwnYXBwX2tleSc9YXBwX2tleSwnYXBwX3NlY3JldCc9YXBwX3NlY3JldCwndG9rZW4nPWFwcF90b2tlbil9fQ0KcjJkPC1mdW5jdGlvbihyZXNwb25zZSl7DQppZihpcy5uYShyZXNwb25zZSkpew0KZGF0YS5mcmFtZSgpDQp9ZWxzZXsNCmlmKG5jaGFyKHJlc3BvbnNlKT4wKXsNCnJldFZhbDwtcmpzb246OmZyb21KU09OKHJlc3BvbnNlKQ0KaWYobGVuZ3RoKHJldFZhbCk9PTApew0KZGF0YS5mcmFtZSgpDQp9ZWxzZXsNCmlmKCdlcnJvciclaW4lbmFtZXMocmV0VmFsKSl7DQpkYXRhLmZyYW1lKCkNCn1lbHNlew0KaWYoIWlzLm51bGwocmV0VmFsJG1lc3NhZ2UpKXsNCmlmKHJldFZhbCRtZXNzYWdlPT0nZXJyb3IuYWNjZXNzRGVuaWVkJyl7DQpkYXRhLmZyYW1lKCkNCn1lbHNlew0KanNvbmxpdGU6OmZyb21KU09OKHJlc3BvbnNlKX0NCiNkby5jYWxsKGJpbmRfcm93cyxsYXBwbHkocmV0VmFsLGZ1bmN0aW9uKHgpZGF0YS5mcmFtZSh0KHNhcHBseSh4LGMpKSxzdHJpbmdzQXNGYWN0b3JzPUZBTFNFKSkpfQ0KfWVsc2V7DQpqc29ubGl0ZTo6ZnJvbUpTT04ocmVzcG9uc2UpfX19DQojZG8uY2FsbChiaW5kX3Jvd3MsbGFwcGx5KHJldFZhbCxmdW5jdGlvbih4KWRhdGEuZnJhbWUodChzYXBwbHkoeCxjKSksc3RyaW5nc0FzRmFjdG9ycz1GQUxTRSkpKX19fQ0KfWVsc2V7DQpkYXRhLmZyYW1lKCl9fX0NCnJlYWRJdGVtczwtZnVuY3Rpb24oYXBwLHJlcG9fdXJsKXsNCmlmKGxlbmd0aChhcHApPT0wKXsNCmRhdGEuZnJhbWUoKQ0KcmV0dXJuKCl9DQpoZWFkZXJzPC1kZWZhdWx0SGVhZGVycyhhcHBbWyd0b2tlbiddXSkNCnVybF9kYXRhPC1wYXN0ZTAocmVwb191cmwsJz9zaXplPTIwMDAnKQ0KaGVhZGVyPC1SQ3VybDo6YmFzaWNIZWFkZXJHYXRoZXJlcigpDQpkb2M8LXRyeUNhdGNoKA0KUkN1cmw6OmdldFVSSSh1cmxfZGF0YSwub3B0cz1saXN0KGh0dHBoZWFkZXI9aGVhZGVycyksaGVhZGVyZnVuY3Rpb249aGVhZGVyJHVwZGF0ZSksDQplcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4oTkEpfSkNCnJlc3BvbnNlPC1OQQ0KcmVzcERhdGE8LWRhdGEuZnJhbWUoKQ0KaWYoIWlzLm5hKGRvYykpew0KcmVjczwtdHJ5Q2F0Y2goDQphcy5pbnRlZ2VyKGhlYWRlciR2YWx1ZSgpW1snWC1Ub3RhbC1Db3VudCddXSksDQplcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4oMCl9KQ0KaWYocmVjcz4yMDAwKXsNCmZvcihwYWdlIGluIDA6Zmxvb3IocmVjcy8yMDAwKSl7DQp1cmxfZGF0YTwtcGFzdGUwKHJlcG9fdXJsLCc/cGFnZT0nLHBhZ2UsJyZzaXplPTIwMDAnKQ0KcmVzcG9uc2U8LXRyeUNhdGNoKA0KUkN1cmw6OmdldFVSTCh1cmxfZGF0YSwub3B0cz1saXN0KGh0dHBoZWFkZXI9aGVhZGVycykpLA0KZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuKE5BKX0pDQpzdWJEYXRhPC1yMmQocmVzcG9uc2UpDQppZihucm93KHJlc3BEYXRhKT4wKXsNCnJlc3BEYXRhPC1yYmluZChyZXNwRGF0YSxzdWJEYXRhKQ0KfWVsc2V7DQpyZXNwRGF0YTwtc3ViRGF0YX19DQp9ZWxzZXsNCnJlc3BvbnNlPC10cnlDYXRjaCgNClJDdXJsOjpnZXRVUkwodXJsX2RhdGEsLm9wdHM9bGlzdChodHRwaGVhZGVyPWhlYWRlcnMpKSwNCmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybihOQSl9KQ0KcmVzcERhdGE8LXIyZChyZXNwb25zZSl9fQ0KcmVzcERhdGF9DQp3cml0ZUl0ZW08LWZ1bmN0aW9uKGFwcCxyZXBvX3VybCxpdGVtKXsNCmhlYWRlcnM8LWRlZmF1bHRIZWFkZXJzKGFwcFtbJ3Rva2VuJ11dKQ0KZGF0YTwtcmpzb246OnRvSlNPTihpdGVtKQ0KcmVzcG9uc2U8LXRyeUNhdGNoKA0KUkN1cmw6OnBvc3RGb3JtKHJlcG9fdXJsLC5vcHRzPWxpc3QoaHR0cGhlYWRlcj1oZWFkZXJzLHBvc3RmaWVsZHM9ZGF0YSkpLA0KZXJyb3I9ZnVuY3Rpb24oZSl7DQpyZXR1cm4oTkEpfSkNCnJlc3BvbnNlfQ0KdXBkYXRlSXRlbTwtZnVuY3Rpb24oYXBwLHJlcG9fdXJsLGl0ZW0saWQpew0KaGVhZGVyczwtZGVmYXVsdEhlYWRlcnMoYXBwW1sndG9rZW4nXV0pDQppdGVtPC1jKGl0ZW0sYyhpZD1hcy5udW1lcmljKGlkKSkpDQpkYXRhPC1yanNvbjo6dG9KU09OKGl0ZW0pDQpyZXNwb25zZTwtdHJ5Q2F0Y2goDQpSQ3VybDo6cG9zdEZvcm0ocmVwb191cmwsLm9wdHM9bGlzdChodHRwaGVhZGVyPWhlYWRlcnMscG9zdGZpZWxkcz1kYXRhKSksDQplcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4oTkEpfSkNCnJlc3BvbnNlfQ0KZGVsZXRlSXRlbTwtZnVuY3Rpb24oYXBwLHJlcG9fdXJsLGlkKXsNCmhlYWRlcnM8LWRlZmF1bHRIZWFkZXJzKGFwcFtbJ3Rva2VuJ11dKQ0KaXRlbV91cmw8LXBhc3RlMChyZXBvX3VybCwnLycsaWQpDQpyZXNwb25zZTwtdHJ5Q2F0Y2goDQpodHRyOjpERUxFVEUoaXRlbV91cmwsaHR0cjo6YWRkX2hlYWRlcnMoaGVhZGVycykpLA0KZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuKE5BKX0pDQpyZXNwb25zZX0NCnBpYV91cmw8LSdbcGlhX3VybF0nDQphcHBfa2V5PC0nW2FwcF9rZXldJw0KYXBwX3NlY3JldDwtJ1thcHBfc2VjcmV0XScNCmFwcDwtc2V0dXBBcHAocGlhX3VybCxhcHBfa2V5LGFwcF9zZWNyZXQpDQpmYV91cmw8LWl0ZW1zVXJsKHBpYV91cmwsJ2V1Lm93bnlvdXJkYXRhLmZpdGJpdC50b2tlbicpDQpmYTwtcmVhZEl0ZW1zKGFwcCxmYV91cmwpDQppZihucm93KGZhKT09MSl7DQprZXk8LWZhJGtleQ0Kc2VjcmV0PC1mYSRzZWNyZXQNCmhlYWRlcnM8LWMoJ0FjY2VwdCc9JyovKicsJ0NvbnRlbnQtVHlwZSc9J2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ0F1dGhvcml6YXRpb24nPXBhc3RlKCdCYXNpYycsanNvbmxpdGU6OmJhc2U2NF9lbmMocGFzdGUwKGtleSwnOicsc2VjcmV0KSkpKQ0KcjwtaHR0cjo6UE9TVCgnaHR0cHM6Ly9hcGkuZml0Yml0LmNvbS9vYXV0aDIvdG9rZW4nLGJvZHk9bGlzdChncmFudF90eXBlPSdyZWZyZXNoX3Rva2VuJyxyZWZyZXNoX3Rva2VuPWZhJHJlZnJlc2hfdG9rZW4pLGh0dHI6OmFkZF9oZWFkZXJzKC5oZWFkZXJzPWhlYWRlcnMpLGVuY29kZT0nZm9ybScpDQpkYXRhPC1saXN0KGtleT1rZXksc2VjcmV0PXNlY3JldCxhY2Nlc3NfdG9rZW49aHR0cjo6Y29udGVudChyKSRhY2Nlc3NfdG9rZW4scmVmcmVzaF90b2tlbj1odHRyOjpjb250ZW50KHIpJHJlZnJlc2hfdG9rZW4pDQp1cGRhdGVJdGVtKGFwcCxmYV91cmwsZGF0YSxmYSRpZCkNCmFjY2Vzc190b2tlbjwtaHR0cjo6Y29udGVudChyKSRhY2Nlc3NfdG9rZW4NCnVybDwtaXRlbXNVcmwocGlhX3VybCwnZXUub3dueW91cmRhdGEuZml0Yml0LnN0ZXBzJykNCnBpYV9kYXRhPC1yZWFkSXRlbXMoYXBwLHVybCkNCnBpYV9kYXRhPC1hcy5kYXRhLmZyYW1lKGxhcHBseShwaWFfZGF0YSx1bmxpc3QpKQ0KcmVzcDwtR0VUKCdodHRwczovL2FwaS5maXRiaXQuY29tLzEvdXNlci8tL2FjdGl2aXRpZXMvc3RlcHMvZGF0ZS90b2RheS8xbS5qc29uJyxodHRyOjphZGRfaGVhZGVycyguaGVhZGVycz1kZWZhdWx0SGVhZGVycyhhY2Nlc3NfdG9rZW4pKSkNCmZpdF9kYXRhPC1qc29ubGl0ZTo6ZnJvbUpTT04oaHR0cjo6Y29udGVudChyZXNwLGFzPSd0ZXh0JykpW1sxXV0NCmlmKG5yb3coZml0X2RhdGEpPjApew0KY29sbmFtZXMoZml0X2RhdGEpPC1jKCdkYXRlJywndmFsdWUnKQ0KaWYobnJvdyhwaWFfZGF0YSk+MCl7DQpkZjwtbWVyZ2UocGlhX2RhdGEsZml0X2RhdGEsYnk9J2RhdGUnLGFsbD1UUlVFKQ0KfWVsc2V7DQpkZjwtZml0X2RhdGENCmNvbG5hbWVzKGRmKTwtYygnZGF0ZScsJ3ZhbHVlLnknKX0NCmRmPC1kZltkZiR2YWx1ZS55PjAsXQ0KaWYobnJvdyhkZik+MCl7DQphcHBseShkZiwxLGZ1bmN0aW9uKHgpew0KZGF0YTwtbGlzdChkYXRlPWFzLmNoYXJhY3Rlcih4WydkYXRlJ10pLHZhbHVlPWFzLmludGVnZXIoeFsndmFsdWUueSddKSwnX295ZFJlcG9OYW1lJz0nU2Nocml0dGUnKQ0KaWYoaXMubmEoeFsnaWQnXSkpew0Kd3JpdGVJdGVtKGFwcCx1cmwsZGF0YSkNCn1lbHNlew0KdXBkYXRlSXRlbShhcHAsdXJsLGRhdGEseFsnaWQnXSl9fSl9fX0='
